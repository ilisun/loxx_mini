# Спецификация минималистичного приложения OSM (iOS)

## 1. Цель
Создать простое, минималистичное iOS-приложение, которое показывает карту OpenStreetMap, текущее местоположение пользователя по GPS и предоставляет минимальный набор элементов управления (центрирование, масштабирование).

## 2. Основной функционал MVP
- **Карта на весь экран** с данными OpenStreetMap.
- **Используемый движок**: MapLibre GL Native.
- **Источник данных**: растровые тайлы OSM (`https://tile.openstreetmap.org/{z}/{x}/{y}.png`).
- **Отображение текущего местоположения**:
  - При первом запуске карта открывается на фиксированном центре (например, весь мир).
  - Разрешение геолокации запрашивается **только по нажатию кнопки «Найти меня»**.
  - После разрешения на карте **постоянно виден маркер текущего положения** (синяя точка), обновляемый при движении.
- **Кнопки управления**:
  - Внизу фиксированный **тулбар** с тремя кнопками:
    - «–» — уменьшить масштаб.
    - «Найти меня» — центрировать карту на текущем местоположении.
    - «+» — увеличить масштаб.
- **Масштаб карты** управляется только кнопками «+»/«–» (без авто-зумирования при центрировании).
- **Темы**: один (светлый) вариант интерфейса, без переключения светлая/тёмная.

## 3. Архитектура приложения
- **Клиент**: нативное iOS-приложение (Swift + SwiftUI).
- **Карта**: MapLibre GL Native для отображения растровых тайлов.
- **Геолокация**: `CoreLocation` для получения GPS-координат.
- **UI**: `SwiftUI` или `UIKit` (по выбору разработчика) с картой на весь экран и тулбаром снизу.

## 4. Обработка данных
- **Тайлы OSM** загружаются напрямую из открытого сервера OpenStreetMap (или другого провайдера).
- **Данные местоположения**:
  - Получаются через `CoreLocation` только после согласия пользователя.
  - Используются только локально для отображения маркера; никуда не отправляются.

## 5. Стратегия обработки ошибок
- **Нет доступа к геолокации**: при нажатии «Найти меня» показывать системный алерт с запросом разрешения; если отказано — уведомить пользователя.
- **Нет интернета**: отображается кэш карты MapLibre (если он есть); при отсутствии тайлов — пустой фон или сообщение «нет данных».
- **Сбой загрузки тайлов**: повторная попытка загрузки, стандартный fallback MapLibre.

## 6. План тестирования
### Функциональные тесты
- Запуск приложения, отображение карты.
- Нажатие «Найти меня» — запрос разрешения на геолокацию, центрирование карты.
- Отображение маркера текущего местоположения.
- Увеличение/уменьшение масштаба кнопками «+»/«–».
- Работа тулбара снизу.

### Тесты ошибок
- Отказ пользователя в доступе к геолокации.
- Отсутствие интернет-соединения (проверка поведения тайлов).
- Перемещение пользователя — обновление маркера.

### UI-тесты
- Корректное отображение тулбара и карты на разных моделях iPhone.
- Проверка минималистичного интерфейса (ничего лишнего).

## 7. Платформа
- iPhone (без адаптации под iPad).

